2022.9.25
 现在有个问题：比如效果attack
是应该把效果放到那边卡牌下，还是这边先另外建一个类然后挂到那边呢？

不过单说卡牌的话，其实是不加数值的，于是tag只用attack，类型，来源与去向

打出一张攻击牌后manager应该怎么处理呢
manager收到一个“attack请求”，并得到了来源与去向信息
manager检查一下当前的事件效果
manager检查一下挂在攻击者上的各种效果（来源可能是装备、技能等，但都视作“挂在角色上”）
manager检查一下挂在被攻击者上的已有效果（来源可能是防具、技能、护甲等）
——————（护甲应该视作加成，而不是基础信息了吧）
最后进行相应的操作
（伤害之后可能还要检查一些“被伤害后”的效果……？）

不过内部应该会有一次“再次抽取”之类的？

………………………………………………
要不先试着装配一点东西？
从角色技能开始装配吧，变化多端一些
主动技能……先放放吧（主动技能应该不会自动注册）
被动技能可以作为“效果”直接挂在角色上

“被动技能”本质是要影响“角色位”的，但是好像实际上是从外部来调取，而非“自行影响”……？

——————————————————
compound就实现了“多个效果视作一个效果”吧……？（效果的嵌套）

——————————————————————
另外再建立了一个trigger表，用以表示当有某些tag的事件发生时，自动响应
但是这样一想……tags作为effect的自带属性，那么注册表中第一个”普通表“是不是就用不上了呢……
哦，还是有个地方，比如”榨干魔法“事件，是要遍历所有角色技能的——这样从第一个表看起就更快
（就不用遍历角色位来寻找ability了）

trigger这样的话，甚至出牌操作、选取主动技能操作等也是可以看作带tag的effect吧（专门用于trigger触发）
但是要注意的是，某些需要带变量的effect（如”甲对乙的攻击“），变量还是不应该作为tag，而是作为effect自带属性吧
那么effect的自带属性，或许又可以靠其他effect来修正吧？
